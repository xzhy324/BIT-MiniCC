(proc, , ,prime)
(decl,int,@params,n)
(decl,int,0,sum)
(decl,int, ,i)
(decl,int, ,j)
(decl,int,1,flag)
(=,2, ,i)
(<=,i,n,%1)
(jez,%1, ,L34)
(jmp, , ,L12)
(++, , ,i)
(jmp, , ,L7)
(=,1, ,flag)
(=,2, ,j)
(*,j,j,%2)
(<=,%2,i,%3)
(jez,%3, ,L26)
(jmp, , ,L20)
(++, , ,j)
(jmp, , ,L14)
(%,i,j,%4)
(cmp,%4,0,%5)
(jez,%5, ,L25)
(=,0, ,flag)
(jmp, , ,L25)
(jmp, , ,L18)
(cmp,flag,1,%6)
(jez,%6, ,L33)
(++, , ,sum)
(push, , ,i)
(call,Mars_PrintInt,1,%7)
(pop, , , )
(jmp, , ,L33)
(jmp, , ,L10)
(ret, , ,sum)
(endp, , ,prime)
(proc, , ,main)
(push, , ,"Please input a number:\n")
(call,Mars_PrintStr,1,%8)
(pop, , , )
(call,Mars_GetInt,0,%9)
(decl,int,%9,n)
(push, , ,n)
(call,prime,1,%10)
(pop, , , )
(decl,int,%10,res)
(push, , ,"The number of prime numbers within n is:\n")
(call,Mars_PrintStr,1,%11)
(pop, , , )
(push, , ,res)
(call,Mars_PrintInt,1,%12)
(pop, , , )
(ret, , ,0)
(endp, , ,main)
