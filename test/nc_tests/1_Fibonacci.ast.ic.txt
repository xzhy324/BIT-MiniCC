(proc, , ,fibonacci)
(decl,int,@params,num)
(decl,int, ,res)
(<,num,1,%1)
(jez, , ,7)
(=,0, ,res)
(jmp, , ,21)
(<=,num,2,%2)
(jez, , ,11)
(=,1, ,res)
(jmp, , ,21)
(-,num,1,%3)
(push, , ,%3)
(call,fibonacci,1,%4)
(pop, , , )
(-,num,2,%5)
(push, , ,%5)
(call,fibonacci,1,%6)
(pop, , , )
(+,%4,%6,%7)
(=,%7, ,res)
(ret, , ,res)
(endp, , ,fibonacci)
(proc, , ,main)
(push, , ,"Please input a number:\n")
(call,Mars_PrintStr,1,%8)
(pop, , , )
(call,Mars_GetInt,0,%9)
(decl,int,%9,n)
(push, , ,n)
(call,fibonacci,1,%10)
(pop, , , )
(decl,int,%10,res)
(push, , ,"This number's fibonacci value is :\n")
(call,Mars_PrintStr,1,%11)
(pop, , , )
(push, , ,res)
(call,Mars_PrintInt,1,%12)
(pop, , , )
(ret, , ,0)
(endp, , ,main)
